<!DOCTYPE html>
<html lang="en">
<script type="text/javascript">


    function displayAccordingly() {

        //Call mainMenu the main dropdown menu
        var locationVisaCategory = document.getElementById('myDiv');
        var locationCountryOfBirth = document.getElementById('countryOfBirth');
        var mainMenu = document.getElementById('first-choice');

        //Create the new dropdown menu
        var visaCatDropDown = document.createElement('select');
        visaCatDropDown.setAttribute("class", "custom-select d-block w-100");
        var countryOfBirthDropDown = document.createElement('select');
        countryOfBirthDropDown.setAttribute("class", "custom-select d-block w-100");


        if (locationVisaCategory.childNodes.length > 0) {
            locationVisaCategory.removeChild(locationVisaCategory.lastChild);
            locationCountryOfBirth.removeChild(locationCountryOfBirth.lastChild);
        }


        if (mainMenu.value === "employmentBased") { //The person chose
            var employmentBasedList = ["select..", "1st", "2nd", "3rd", "Other Workers", "4th, Certain Religious Workers", "5th Non-Regiional Center (C5 and T5)", "5th Regional Center (I5 and R5)"]
            var employmentCountryList = ["select...", "CHINA-mainland born", "EL SALVADOR GUATEMALA HONDURAS", "INDIA", "MEXICO", "PHILIPPINES", "VIETNAM", "All Chargeability Areas Except Those Listed"]
            for (var a in employmentBasedList) {
                var employmentOption = document.createElement("option");
                employmentOption.text = employmentBasedList[a];
                visaCatDropDown.add(employmentOption, visaCatDropDown.options[null]);
            }
            for (var b in employmentCountryList) {
                var employmentCountryOption = document.createElement("option");
                employmentCountryOption.text = employmentCountryList[b];
                countryOfBirthDropDown.add(employmentCountryOption, countryOfBirthDropDown.options[null]);
            }

        } else if (mainMenu.value === "familyBased") {
            var familyBasedList = ["F1", "F2A", "F2B", "F3", "F4"]
            var familyCountryList = ["select...", "CHINA-mainland born", "INDIA", "MEXICO", "PHILIPPINES", "All Chargeability Areas Except Those Listed"]
            for (var i in familyBasedList) {
                var option = familyBasedList[i].text;
                option = document.createElement("option");
                option.text = familyBasedList[i];
                visaCatDropDown.add(option, visaCatDropDown.options[null]);
            }
            for (var b in familyCountryList) {
                var familyCountryOption = document.createElement("option");
                familyCountryOption.text = familyCountryList[b];
                countryOfBirthDropDown.add(familyCountryOption, countryOfBirthDropDown.options[null]);
            }

        }
        locationVisaCategory.appendChild(visaCatDropDown);
        locationCountryOfBirth.appendChild(countryOfBirthDropDown);

    }
</script>
<head>
    <meta charset="UTF-8">
    <!-- Latest compiled and minified CSS -->
    <!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <title>New User</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#563d7c">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


</head>

<body class="bg-light" onload="document.user_form.email.focus()">

<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="/">Visa Checker</a>
        </div>
        <ul class="nav navbar-nav">
            <li class="active"><a href="/">Home</a></li>
            <li><a href="newUser">New User</a></li>
            <li><a href="unsubscribe">Unsubscribe</a></li>
            <li><a href="#">Modify</a></li>
        </ul>
    </div>
</nav>


<div class="jumbotron text-center">
    <div class="py-5 text-center">

        <h1>New User</h1>
        <br>

        <p class="lead">Sign up below to receive notifications when the latest visa bulletin comes out.</p>
        <p class="lead"> We wil even let you know when it is time to file!</p>

    </div>
</div>
<div class="container">
    <div class="col-md-8 order-md-1">
        <h4 class="mb-3">Please enter you details</h4>
        <form class="needs-validation" novalidate="">
            <div class="mb-">
                <label for="email">Email <span class="text-muted"></span></label>
                <input type="email" class="form-control" id="email" placeholder="you@example.com" required="">
            </div>
            <div class="row">
                <div class="col-md-8 order-md-1">
                    <label for="first-choice">Visa Type</label>
                </div>
                <div class="col-md-5 mb-5">
                    <select id="first-choice" class="col-md-5 mb-3" required="" onchange="displayAccordingly()">
                        <option selected value="base">Choose...</option>
                        <option value="familyBased">Family Based</option>
                        <option value="employmentBased">Employment Based</option>
                    </select>
                    <div class="invalid-feedback">
                        Please select a valid visa category.
                    </div>
                </div>

            </div>

            <div class="row">
                <div class="col-md-5 mb-3" id="myDiv" class="custom-select d-block w-100" required="">
                    <div>
                    <label for="myDiv">Visa Category</label>
</div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-5 mb-3" id="countryOfBirth" class="custom-select d-block w-100" required="">
                    <div>
                    <label for="countryOfBirth">Country of Birth</label>
                    </div>
                </div>
            </div>


        </form>
    </div>

<br>
<br>
<br>
<input type="submit" name="submit" value="Submit" type="button" class="btn btn-primary btn-block" >
</div>
</body>
</html>
